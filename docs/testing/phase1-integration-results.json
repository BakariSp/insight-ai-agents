[
  {
    "test_name": "test_full_chain_class_to_detail",
    "category": "Data Pipeline",
    "timestamp": "2026-02-11T03:21:23.519352",
    "duration_ms": 1367.24,
    "status": "pass",
    "input": {
      "teacher_id": "ad09ddd5-d688-4409-9b1b-e418d80ef5cf"
    },
    "output": {
      "steps": [
        {
          "step": "get_teacher_classes",
          "duration_ms": 998.7,
          "class_count": 3,
          "class_names": [
            "高一数学班",
            "高一英语班",
            "高三语文班"
          ]
        },
        {
          "step": "resolve_entities",
          "input": "高一数学班",
          "duration_ms": 17.4,
          "entities_count": 1,
          "scope_mode": "single"
        },
        {
          "step": "get_class_detail",
          "class_id": "1167ccd0-12e9-4523-9e30-d45bd80fc2ce",
          "duration_ms": 351.1,
          "has_name": true,
          "has_students": true,
          "has_assignments": true,
          "student_count": 5,
          "assignment_count": 16
        }
      ],
      "total_duration_ms": 1367.2
    },
    "error": null
  },
  {
    "test_name": "test_class_list_field_format",
    "category": "Data Pipeline — Fields",
    "timestamp": "2026-02-11T03:21:23.855851",
    "duration_ms": 0,
    "status": "pass",
    "input": {
      "expected_keys": [
        "class_id",
        "grade",
        "name",
        "student_count",
        "subject"
      ]
    },
    "output": {
      "actual_keys": [
        "assignment_count",
        "class_id",
        "description",
        "grade",
        "name",
        "semester_label",
        "student_count",
        "subject"
      ],
      "missing": []
    },
    "error": null
  },
  {
    "test_name": "test_java_backend_reachable",
    "category": "Data Pipeline — Connectivity",
    "timestamp": "2026-02-11T03:21:24.050211",
    "duration_ms": 20.69,
    "status": "pass",
    "input": {
      "endpoint": "/dify/teacher/…/classes/me"
    },
    "output": {
      "response_type": "dict",
      "has_data": true
    },
    "error": null
  },
  {
    "test_name": "test_exact_class_name_match",
    "category": "Entity Resolver — Exact",
    "timestamp": "2026-02-11T03:21:25.218340",
    "duration_ms": 51.0,
    "status": "pass",
    "input": {
      "total_classes": 3
    },
    "output": {
      "passed": 3,
      "rate": "100%",
      "failures": []
    },
    "error": null
  },
  {
    "test_name": "test_fuzzy_match",
    "category": "Entity Resolver — Fuzzy",
    "timestamp": "2026-02-11T03:21:25.295946",
    "duration_ms": 50.62,
    "status": "pass",
    "input": {
      "total_cases": 3
    },
    "output": {
      "passed": 3,
      "rate": "100%",
      "failures": []
    },
    "error": null
  },
  {
    "test_name": "test_two_class_comparison",
    "category": "Entity Resolver — Multi-class",
    "timestamp": "2026-02-11T03:21:25.389792",
    "duration_ms": 17.43,
    "status": "pass",
    "input": {
      "query": "对比 高一数学班 和 高一英语班 的成绩"
    },
    "output": {
      "resolved_count": 2,
      "scope_mode": "multi",
      "entities": [
        {
          "entityType": "class",
          "entityId": "1167ccd0-12e9-4523-9e30-d45bd80fc2ce",
          "displayName": "高一数学班",
          "confidence": 1.0,
          "matchType": "exact"
        },
        {
          "entityType": "class",
          "entityId": "fa0279f1-e53d-417c-8830-dc536362c177",
          "displayName": "高一英语班",
          "confidence": 1.0,
          "matchType": "exact"
        }
      ]
    },
    "error": null
  }
]