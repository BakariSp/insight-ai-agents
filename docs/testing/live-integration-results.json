[
  {
    "test_name": "test_live_router_smalltalk",
    "category": "A. Router",
    "timestamp": "2026-02-09T02:28:57.901481",
    "duration_ms": 1889.08,
    "status": "pass",
    "input": {
      "message": "你好"
    },
    "output": {
      "intent": "chat_smalltalk",
      "confidence": 0.9,
      "should_build": false
    },
    "error": null
  },
  {
    "test_name": "test_live_router_build_workflow",
    "category": "A. Router",
    "timestamp": "2026-02-09T02:29:00.054570",
    "duration_ms": 2150.77,
    "status": "pass",
    "input": {
      "message": "分析高一数学班的期末考试成绩"
    },
    "output": {
      "intent": "build_workflow",
      "confidence": 0.85,
      "should_build": true
    },
    "error": null
  },
  {
    "test_name": "test_live_router_clarify",
    "category": "A. Router",
    "timestamp": "2026-02-09T02:29:02.001628",
    "duration_ms": 1944.81,
    "status": "pass",
    "input": {
      "message": "分析一下英语表现"
    },
    "output": {
      "intent": "clarify",
      "confidence": 0.8,
      "clarifying_question": "请问您想分析哪个班级的英语表现？例如：1A班、2B班等。",
      "route_hint": "needClassId"
    },
    "error": null
  },
  {
    "test_name": "test_live_blueprint_generation",
    "category": "B. Blueprint",
    "timestamp": "2026-02-09T02:29:25.850834",
    "duration_ms": 23847.15,
    "status": "pass",
    "input": {
      "user_prompt": "分析高一数学班的期末考试成绩，显示成绩分布和各题得分情况",
      "language": "zh-CN"
    },
    "output": {
      "id": "bp-final-exam-analysis",
      "name": "Final Exam Analysis",
      "description": "Analyzes the final exam scores of a high school math class, showing score distribution and performance on each question.",
      "capability_level": 1,
      "model": "dashscope/qwen-max",
      "data_bindings_count": 2,
      "compute_nodes_count": 1,
      "ui_tabs_count": 2
    },
    "error": null
  },
  {
    "test_name": "test_live_blueprint_english",
    "category": "B. Blueprint",
    "timestamp": "2026-02-09T02:30:25.286596",
    "duration_ms": 59433.09,
    "status": "pass",
    "input": {
      "user_prompt": "Analyze Form 1A English test scores, show score distribution and performance by question",
      "language": "en"
    },
    "output": {
      "id": "bp-english-test-analysis",
      "name": "English Test Analysis",
      "description": "Analyze Form 1A English test scores, showing score distribution and performance by question.",
      "model": "dashscope/qwen-max"
    },
    "error": null
  },
  {
    "test_name": "test_live_conversation_chat",
    "category": "C. Conversation",
    "timestamp": "2026-02-09T02:30:29.935556",
    "duration_ms": 4568.9,
    "status": "pass",
    "input": {
      "message": "你好，介绍一下你自己"
    },
    "output": {
      "status_code": 200,
      "action": "chat",
      "mode": "entry",
      "chat_response_preview": "你好！我是 Insight AI 数据分析助手。我的主要任务是帮助老师们分析学生数据，生成学情报告，以及提供一些教学建议。如果你有任何关于学生数据分析的需求，或者想了解如何使用平台的某个功能，随时可以问我哦！有什么我可以帮你的吗？"
    },
    "error": null
  },
  {
    "test_name": "test_live_conversation_build",
    "category": "C. Conversation",
    "timestamp": "2026-02-09T02:30:31.887878",
    "duration_ms": 1873.23,
    "status": "pass",
    "input": {
      "message": "分析高一数学班的作业成绩",
      "teacherId": "t-001"
    },
    "output": {
      "status_code": 200,
      "action": "clarify",
      "mode": "entry",
      "clarify_type": "single_select",
      "clarify_choices_count": 2
    },
    "error": null
  },
  {
    "test_name": "test_live_page_generation",
    "category": "D. Page Generation",
    "timestamp": "2026-02-09T02:31:07.813117",
    "duration_ms": 35847.08,
    "status": "pass",
    "input": {
      "user_prompt": "分析作业提交情况，显示统计数据和分析结论",
      "blueprint_id": "bp-assignment-submission-analysis"
    },
    "output": {
      "blueprint_duration_ms": 22902.9,
      "page_duration_ms": 12944.18,
      "total_duration_ms": 35847.08,
      "event_count": 11,
      "event_types": [
        "TOOL_RESULT",
        "TOOL_CALL",
        "COMPLETE",
        "SLOT_DELTA",
        "BLOCK_START",
        "BLOCK_COMPLETE",
        "PHASE"
      ],
      "phases": [
        "data",
        "compute",
        "compose"
      ],
      "block_starts_count": 1,
      "complete_status": "completed",
      "page_title": "Assignment Submission Analysis"
    },
    "error": null
  },
  {
    "test_name": "test_live_full_e2e_flow",
    "category": "D. Page Generation",
    "timestamp": "2026-02-09T02:31:43.869096",
    "duration_ms": 35978.48,
    "status": "pass",
    "input": {
      "message": "分析学生的作业完成情况"
    },
    "output": {
      "conversation_action": "build",
      "conversation_duration_ms": 21335.88,
      "blueprint_name": "Student Assignment Completion Analysis",
      "page_duration_ms": 14642.6,
      "total_duration_ms": 35978.48,
      "event_count": 13,
      "complete_status": "completed"
    },
    "error": null
  },
  {
    "test_name": "test_live_critical_path_e2e",
    "category": "D. Critical Path",
    "timestamp": "2026-02-09T02:32:21.302835",
    "duration_ms": 37351.61,
    "status": "pass",
    "input": {
      "user_prompt": "分析高一英语班的'测试一'作业成绩，显示平均分和成绩分布"
    },
    "output": {
      "user_prompt": "分析高一英语班的'测试一'作业成绩，显示平均分和成绩分布",
      "teacher_id": "2fe869fb-4a2d-4aa1-a173-c263235dc62b",
      "class_id": "1e4fd110-0d58-4daa-a048-ee691fc7bef4",
      "assignment_id": "assign-87174785-e2a9-462b-97e1-008554ea1f5c",
      "use_mock_data": false,
      "steps": [
        {
          "step": "1. Conversation API",
          "duration_ms": 21028.08,
          "status_code": 200,
          "action": "build",
          "mode": "entry",
          "blueprint": {
            "id": "bp-test1-analysis",
            "name": "Test 1 Score Analysis",
            "description": "Analyzes the scores of 'Test 1' for a high school first-year English class, showing average scores and score distribution.",
            "capability_level": 1,
            "data_bindings": 1,
            "compute_nodes": 1,
            "ui_tabs": 1
          }
        },
        {
          "step": "2. Page Generation (SSE)",
          "duration_ms": 16323.53,
          "status_code": 200,
          "event_summary": {
            "total_events": 11,
            "phases": [
              "data",
              "compute",
              "compose"
            ],
            "tool_calls": 2,
            "tool_results": 2,
            "block_starts": 1,
            "slot_deltas": 1,
            "block_completes": 1,
            "error_events": 0
          },
          "complete_status": "completed",
          "page": {
            "title": "Test 1 Score Analysis",
            "layout": "tabs",
            "tabs_count": 1,
            "blocks_per_tab": [
              {
                "tab": "Overview",
                "blocks": 3
              }
            ]
          },
          "ai_content_sample": "## Analysis of Test Scores\n\n### Key Findings\n- **Error in Data**: The computed statistics indicate an \"Empty data list\" error, suggesting that there are no submissions or scores available for the assignment with ID `assign-87174785-e2a9-462b-97e1-008554ea1f5c`.\n\n### Patterns and Areas for Improvemen"
        }
      ],
      "total_duration_ms": 37351.61,
      "final_status": "completed"
    },
    "error": null
  },
  {
    "test_name": "test_live_rag_rubrics_loaded",
    "category": "E. Phase 7 RAG",
    "timestamp": "2026-02-09T02:32:21.308342",
    "duration_ms": 3.05,
    "status": "pass",
    "input": {},
    "output": {
      "official_corpus_docs": 100,
      "school_assets_docs": 0,
      "question_bank_docs": 0
    },
    "error": null
  },
  {
    "test_name": "test_live_rag_query_rubrics",
    "category": "E. Phase 7 RAG",
    "timestamp": "2026-02-09T02:32:21.310282",
    "duration_ms": 0.15,
    "status": "pass",
    "input": {
      "query": "argumentative essay writing criteria"
    },
    "output": {
      "results_count": 3,
      "top_result_preview": "Rubric: DSE English Writing - Argumentative Essay\nSubject: English\nTask Type: essay\nLevel: DSE\n\nContent (7 marks):\n  Level 5: Fully addresses the task with well-developed, relevant ideas. Arguments ar"
    },
    "error": null
  },
  {
    "test_name": "test_live_knowledge_english",
    "category": "E. Phase 7 Knowledge",
    "timestamp": "2026-02-09T02:32:21.311887",
    "duration_ms": 0.06,
    "status": "pass",
    "input": {
      "subject": "English"
    },
    "output": {
      "count": 12,
      "sample_ids": [
        "DSE-ENG-U5-RC-01",
        "DSE-ENG-U5-RC-02",
        "DSE-ENG-U5-RC-03",
        "DSE-ENG-U5-RC-04",
        "DSE-ENG-U5-GR-01"
      ]
    },
    "error": null
  },
  {
    "test_name": "test_live_knowledge_all_subjects",
    "category": "E. Phase 7 Knowledge",
    "timestamp": "2026-02-09T02:32:21.314461",
    "duration_ms": 1.11,
    "status": "pass",
    "input": {
      "subjects": [
        "English",
        "Math",
        "Chinese",
        "ICT"
      ]
    },
    "output": {
      "English": 12,
      "Math": 29,
      "Chinese": 22,
      "ICT": 30
    },
    "error": null
  },
  {
    "test_name": "test_live_error_to_knowledge_mapping",
    "category": "E. Phase 7 Knowledge",
    "timestamp": "2026-02-09T02:32:21.315985",
    "duration_ms": 0.0,
    "status": "pass",
    "input": {
      "error_tags": [
        "grammar",
        "tense",
        "inference"
      ]
    },
    "output": {
      "mapped_kp_ids": [
        "DSE-ENG-U5-RC-01",
        "DSE-ENG-U5-RC-03",
        "DSE-ENG-U5-GR-02",
        "DSE-ENG-U5-GR-03",
        "DSE-ENG-U5-GR-01"
      ]
    },
    "error": null
  },
  {
    "test_name": "test_live_rubric_service",
    "category": "E. Phase 7 Rubric",
    "timestamp": "2026-02-09T02:32:21.319408",
    "duration_ms": 1.93,
    "status": "pass",
    "input": {
      "subject": "English",
      "task_type": "essay"
    },
    "output": {
      "rubric_id": "DSE-ENG-Writing-Argumentative",
      "rubric_name": "DSE English Writing - Argumentative Essay",
      "criteria_count": 3,
      "context_has_criteria": true,
      "context_has_errors": true
    },
    "error": null
  },
  {
    "test_name": "test_live_question_draft_generation",
    "category": "F. Phase 7 Question Pipeline",
    "timestamp": "2026-02-09T02:32:34.350058",
    "duration_ms": 13017.31,
    "status": "pass",
    "input": {
      "subject": "English",
      "topic": "Reading Comprehension",
      "count": 2,
      "types": [
        "multiple_choice"
      ]
    },
    "output": {
      "drafts_count": 2,
      "draft_previews": [
        {
          "id": "q1",
          "type": "multiple_choice",
          "text_preview": "In the passage, how does the author primarily convey the character's sense of isolation?"
        },
        {
          "id": "q2",
          "type": "multiple_choice",
          "text_preview": "What is the primary purpose of the flashback in the story?"
        }
      ]
    },
    "error": null
  },
  {
    "test_name": "test_live_question_judge",
    "category": "F. Phase 7 Question Pipeline",
    "timestamp": "2026-02-09T02:32:53.498634",
    "duration_ms": 9974.04,
    "status": "pass",
    "input": {
      "question_preview": "Which of the following sentences is correctly punctuated?"
    },
    "output": {
      "passed": true,
      "score": 0.9,
      "issues_count": 2,
      "issues": [
        {
          "type": "suggestion",
          "severity": "suggestion"
        },
        {
          "type": "suggestion",
          "severity": "suggestion"
        }
      ]
    },
    "error": null
  },
  {
    "test_name": "test_live_question_full_pipeline",
    "category": "F. Phase 7 Question Pipeline",
    "timestamp": "2026-02-09T02:33:14.937571",
    "duration_ms": 21432.39,
    "status": "pass",
    "input": {
      "subject": "English",
      "topic": "Vocabulary",
      "count": 2,
      "with_rubric": false
    },
    "output": {
      "total_questions": 2,
      "passed": 2,
      "repaired": 0,
      "failed": 0,
      "average_quality": 0.975,
      "questions": [
        {
          "type": "multiple_choice",
          "quality": 0.95,
          "text_preview": "Which word best describes a person who is always ready to fight or argue?"
        },
        {
          "type": "multiple_choice",
          "quality": 1.0,
          "text_preview": "Choose the synonym for 'meticulous':"
        }
      ]
    },
    "error": null
  },
  {
    "test_name": "test_live_question_with_weakness_context",
    "category": "F. Phase 7 Question Pipeline",
    "timestamp": "2026-02-09T02:34:16.073887",
    "duration_ms": 61133.58,
    "status": "pass",
    "input": {
      "error_tags": [
        "grammar",
        "tense"
      ],
      "weak_kps": [
        "DSE-ENG-U5-GR-03",
        "DSE-ENG-U5-GR-01",
        "DSE-ENG-U5-GR-02"
      ],
      "count": 2
    },
    "output": {
      "total_questions": 2,
      "average_quality": 0.9
    },
    "error": null
  },
  {
    "test_name": "test_live_assess_student_weakness",
    "category": "G. Phase 7 Assessment",
    "timestamp": "2026-02-09T02:34:16.076473",
    "duration_ms": 0.06,
    "status": "pass",
    "input": {
      "submission_count": 3
    },
    "output": {
      "weak_points": [
        {
          "knowledgePointId": "DSE-ENG-U5-GR-01",
          "errorRate": 0.667,
          "errorCount": 2,
          "totalAttempts": 3,
          "affectedStudents": 2,
          "commonErrorTags": [
            "grammar",
            "tense"
          ]
        },
        {
          "knowledgePointId": "DSE-ENG-U5-RC-01",
          "errorRate": 0.667,
          "errorCount": 2,
          "totalAttempts": 3,
          "affectedStudents": 2,
          "commonErrorTags": [
            "inference"
          ]
        },
        {
          "knowledgePointId": "DSE-ENG-U5-GR-02",
          "errorRate": 0.667,
          "errorCount": 2,
          "totalAttempts": 3,
          "affectedStudents": 2,
          "commonErrorTags": [
            "grammar",
            "vocabulary"
          ]
        }
      ],
      "recommended_focus": [
        "DSE-ENG-U5-GR-01",
        "DSE-ENG-U5-RC-01",
        "DSE-ENG-U5-GR-02"
      ],
      "total_students": 3
    },
    "error": null
  }
]